try{let t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="7c35ae82-ad8e-436f-a632-7a1336e4572e",t._sentryDebugIdIdentifier="sentry-dbid-7c35ae82-ad8e-436f-a632-7a1336e4572e")}catch(ns){}const t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,e="9.22.0",n=globalThis;function r(){return s(n),n}function s(t){const n=t.__SENTRY__=t.__SENTRY__||{};return n.version=n.version||e,n[e]=n[e]||{}}function i(t,r,s=n){const i=s.__SENTRY__=s.__SENTRY__||{},o=i[e]=i[e]||{};return o[t]||(o[t]=r())}const o=Object.prototype.toString;function a(t){switch(o.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return v(t,Error)}}function c(t,e){return o.call(t)===`[object ${e}]`}function u(t){return c(t,"ErrorEvent")}function l(t){return c(t,"DOMError")}function d(t){return c(t,"DOMException")}function p(t){return c(t,"String")}function f(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function h(t){return null===t||f(t)||"object"!=typeof t&&"function"!=typeof t}function m(t){return c(t,"Object")}function g(t){return"undefined"!=typeof Event&&v(t,Event)}function _(t){return Boolean((null==t?void 0:t.then)&&"function"==typeof t.then)}function v(t,e){try{return t instanceof e}catch(n){return!1}}function y(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}function b(t){return"undefined"!=typeof Request&&v(t,Request)}const S=n;function E(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=w(n,l),!("html"===u||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch(n){return"<unknown>"}}function w(t,e){const n=t,r=[];if(!(null==n?void 0:n.tagName))return"";if(S.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=(null==e?void 0:e.length)?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(null==s?void 0:s.length)s.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const t=n.className;if(t&&p(t)){const e=t.split(/\s+/);for(const t of e)r.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const t=n.getAttribute(o);t&&r.push(`[${o}="${t}"]`)}return r.join("")}function x(){try{return S.document.location.href}catch(t){return""}}function k(t){if(!S.HTMLElement)return null;let e=t;for(let n=0;n<5;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}const I=["debug","info","warn","error","log","assert","trace"],T={};function $(t){if(!("console"in n))return t();const e=n.console,r={},s=Object.keys(T);s.forEach((t=>{const n=T[t];r[t]=e[t],e[t]=n}));try{return t()}finally{s.forEach((t=>{e[t]=r[t]}))}}const D=i("logger",(function(){let e=!1;const r={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return t?I.forEach((t=>{r[t]=(...r)=>{e&&$((()=>{n.console[t](`Sentry Logger [${t}]:`,...r)}))}})):I.forEach((t=>{r[t]=()=>{}})),r}));function C(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function O(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const e=t[r];try{y(e)?n.push("[VueViewModel]"):n.push(String(e))}catch(ns){n.push("[value cannot be serialized]")}}return n.join(e)}function N(t,e,n=!1){return!!p(t)&&(c(e,"RegExp")?e.test(t):!!p(e)&&(n?t===e:t.includes(e)))}function A(t,e=[],n=!1){return e.some((e=>N(t,e,n)))}function P(e,n,r){if(!(n in e))return;const s=e[n];if("function"!=typeof s)return;const i=r(s);"function"==typeof i&&j(i,s);try{e[n]=i}catch{t&&D.log(`Failed to replace method "${n}" in object`,e)}}function R(e,n,r){try{Object.defineProperty(e,n,{value:r,writable:!0,configurable:!0})}catch(s){t&&D.log(`Failed to add non-enumerable property "${n}" to object`,e)}}function j(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,R(t,"__sentry_original__",e)}catch(n){}}function M(t){return t.__sentry_original__}function L(t){if(a(t))return{message:t.message,name:t.name,stack:t.stack,...F(t)};if(g(t)){const e={type:t.type,target:U(t.target),currentTarget:U(t.currentTarget),...F(t)};return"undefined"!=typeof CustomEvent&&v(t,CustomEvent)&&(e.detail=t.detail),e}return t}function U(t){try{return e=t,"undefined"!=typeof Element&&v(e,Element)?E(t):Object.prototype.toString.call(t)}catch(n){return"<unknown>"}var e}function F(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function B(t,e=40){const n=Object.keys(L(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return C(r,e);for(let s=n.length;s>0;s--){const t=n.slice(0,s).join(", ");if(!(t.length>e))return s===n.length?t:C(t,e)}return""}function J(t=function(){const t=n;return t.crypto||t.msCrypto}()){let e=()=>16*Math.random();try{if(null==t?void 0:t.randomUUID)return t.randomUUID().replace(/-/g,"");(null==t?void 0:t.getRandomValues)&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,(t=>(t^(15&e())>>t/4).toString(16)))}function z(t){var e,n;return null==(n=null==(e=t.exception)?void 0:e.values)?void 0:n[0]}function G(t){const{message:e,event_id:n}=t;if(e)return e;const r=z(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function H(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function W(t,e){const n=z(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...null==r?void 0:r.data,...e.data};n.mechanism.data=t}}function V(t){if(function(t){try{return t.__sentry_captured__}catch{}}(t))return!0;try{R(t,"__sentry_captured__",!0)}catch(e){}return!1}function Y(){return Date.now()/1e3}const q=function(){const{performance:t}=n;if(!(null==t?void 0:t.now))return Y;const e=Date.now()-t.now(),r=null==t.timeOrigin?e:t.timeOrigin;return()=>(r+t.now())/1e3}();let K;function Q(){return K||(K=function(){var t;const{performance:e}=n;if(!(null==e?void 0:e.now))return[void 0,"none"];const r=36e5,s=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+s-i):r,a=o<r,c=null==(t=e.timing)?void 0:t.navigationStart,u="number"==typeof c?Math.abs(c+s-i):r;return a||u<r?o<=u?[e.timeOrigin,"timeOrigin"]:[c,"navigationStart"]:[i,"dateNow"]}()),K[0]}function X(t){const e=q(),n={sid:J(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return{sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(n)};return t&&Z(n,t),n}function Z(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||q(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:J()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function tt(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&0===Object.keys(e).length)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=tt(r[s],e[s],n-1));return r}const et="_sentrySpan";function nt(t,e){e?R(t,et,e):delete t[et]}function rt(t){return t[et]}function st(){return J()}function it(){return J().substring(16)}class ot{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:st(),sampleRand:Math.random()}}clone(){const t=new ot;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,nt(t,rt(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Z(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,n=e instanceof ot?e.getScopeData():m(e)?t:void 0,{tags:r,extra:s,user:i,contexts:o,level:a,fingerprint:c=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...s},this._contexts={...this._contexts,...o},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,nt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:st(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){var n;const r="number"==typeof e?e:100;if(r<=0)return this;const s={timestamp:Y(),...t,message:t.message?C(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),null==(n=this._client)||n.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:rt(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=tt(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=(null==e?void 0:e.event_id)||J();if(!this._client)return D.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=(null==n?void 0:n.event_id)||J();if(!this._client)return D.warn("No client configured on scope - will not capture message!"),r;const s=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureEvent(t,e){const n=(null==e?void 0:e.event_id)||J();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(D.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}class at{constructor(t,e){let n,r;n=t||new ot,r=e||new ot,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(ns){throw this._popScope(),ns}return _(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ct(){const t=s(r());return t.stack=t.stack||new at(i("defaultCurrentScope",(()=>new ot)),i("defaultIsolationScope",(()=>new ot)))}function ut(t){return ct().withScope(t)}function lt(t,e){const n=ct();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function dt(t){return ct().withScope((()=>t(ct().getIsolationScope())))}function pt(t){const e=s(t);return e.acs?e.acs:{withIsolationScope:dt,withScope:ut,withSetScope:lt,withSetIsolationScope:(t,e)=>dt(e),getCurrentScope:()=>ct().getScope(),getIsolationScope:()=>ct().getIsolationScope()}}function ft(){return pt(r()).getCurrentScope()}function ht(){return pt(r()).getIsolationScope()}function mt(...t){const e=pt(r());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}return e.withScope(t[0])}function gt(){return ft().getClient()}function _t(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=e,i={trace_id:n,span_id:s||it()};return r&&(i.parent_span_id=r),i}const vt="sentry.source",yt="sentry.sample_rate",bt="sentry.previous_trace_sample_rate",St="sentry.op",Et="sentry.origin",wt="sentry.idle_span_finish_reason",xt="sentry.measurement_unit",kt="sentry.measurement_value",It="sentry.custom_span_name",Tt="sentry.profile_id",$t="sentry.exclusive_time",Dt="sentry.link.type",Ct=2;function Ot(t,e){t.setAttribute("http.response.status_code",e);const n=function(t){if(t<400&&t>=100)return{code:1};if(t>=400&&t<500)switch(t){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(e);"unknown_error"!==n.message&&t.setStatus(n)}const Nt="_sentryScope",At="_sentryIsolationScope";function Pt(t){return{scope:t[Nt],isolationScope:t[At]}}function Rt(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||e<0||e>1?void 0:e}const jt="sentry-",Mt=/^sentry-/;function Lt(t){const e=function(t){if(!t||!p(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(((t,e)=>{const n=Ft(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{});return Ft(t)}(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(Mt)){t[e.slice(7)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function Ut(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=0===s?i:`${e},${i}`;return o.length>8192?(t&&D.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((t,[e,n])=>(n&&(t[`${jt}${e}`]=n),t)),{}))}function Ft(t){return t.split(",").map((t=>t.split("=").map((t=>{try{return decodeURIComponent(t.trim())}catch{return}})))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}const Bt=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Jt(t,e){const n=function(t){if(!t)return;const e=t.match(Bt);if(!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}(t),r=Lt(e);if(!(null==n?void 0:n.traceId))return{traceId:st(),sampleRand:Math.random()};const s=function(t,e){const n=Rt(null==e?void 0:e.sample_rand);if(void 0!==n)return n;const r=Rt(null==e?void 0:e.sample_rate);return r&&void 0!==(null==t?void 0:t.parentSampled)?t.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function zt(t=st(),e=it(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}let Gt=!1;function Ht(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=Kt(t);return{parent_span_id:i,span_id:e,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function Wt(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),s=r?e:Kt(t).parent_span_id,i=Pt(t).scope;return{parent_span_id:s,span_id:r?(null==i?void 0:i.getPropagationContext().propagationSpanId)||it():e,trace_id:n}}function Vt(t){return t&&t.length>0?t.map((({context:{spanId:t,traceId:e,traceFlags:n,...r},attributes:s})=>({span_id:t,trace_id:e,sampled:1===n,attributes:s,...r}))):void 0}function Yt(t){return"number"==typeof t?qt(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?qt(t.getTime()):q()}function qt(t){return t>9999999999?t/1e3:t}function Kt(t){var e;if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:n,traceId:r}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:s,startTime:i,name:o,endTime:a,status:c,links:u}=t;return{span_id:n,trace_id:r,data:s,description:o,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?null==(e=t.parentSpanContext)?void 0:e.spanId:void 0,start_timestamp:Yt(i),timestamp:Yt(a)||void 0,status:Xt(c),op:s[St],origin:s[Et],links:Vt(u)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function Qt(t){const{traceFlags:e}=t.spanContext();return 1===e}function Xt(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}const Zt="_sentryChildSpans",te="_sentryRootSpan";function ee(t,e){const n=t[te]||t;R(e,te,n),t[Zt]?t[Zt].add(e):R(t,Zt,new Set([e]))}function ne(t){const e=new Set;return function t(n){if(!e.has(n)&&Qt(n)){e.add(n);const r=n[Zt]?Array.from(n[Zt]):[];for(const e of r)t(e)}}(t),Array.from(e)}function re(t){return t[te]||t}function se(){const t=pt(r());return t.getActiveSpan?t.getActiveSpan():rt(ft())}function ie(){Gt||($((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),Gt=!0)}const oe="?",ae=/\(error: (.*)\)/,ce=/captureMessage|captureException/;function ue(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0,r=0)=>{const s=[],i=t.split("\n");for(let o=n;o<i.length;o++){const t=i[o];if(t.length>1024)continue;const n=ae.test(t)?t.replace(ae,"$1"):t;if(!n.match(/\S*Error: /)){for(const t of e){const e=t(n);if(e){s.push(e);break}}if(s.length>=50+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(de(e).function||"")&&e.pop();e.reverse(),ce.test(de(e).function||"")&&(e.pop(),ce.test(de(e).function||"")&&e.pop());return e.slice(0,50).map((t=>({...t,filename:t.filename||de(e).filename,function:t.function||"?"})))}(s.slice(r))}}function le(t){return Array.isArray(t)?ue(...t):t}function de(t){return t[t.length-1]||{}}const pe="<anonymous>";function fe(t){try{return t&&"function"==typeof t&&t.name||pe}catch(ns){return pe}}function he(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach((e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)})),t}catch(n){return}}}const me={},ge={};function _e(t,e){me[t]=me[t]||[],me[t].push(e)}function ve(e,n){if(!ge[e]){ge[e]=!0;try{n()}catch(ns){t&&D.error(`Error while instrumenting ${e}`,ns)}}}function ye(e,n){const r=e&&me[e];if(r)for(const s of r)try{s(n)}catch(ns){t&&D.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${fe(s)}\nError:`,ns)}}let be=null;function Se(t){const e="error";_e(e,t),ve(e,Ee)}function Ee(){be=n.onerror,n.onerror=function(t,e,n,r,s){return ye("error",{column:r,error:s,line:n,msg:t,url:e}),!!be&&be.apply(this,arguments)},n.onerror.__SENTRY_INSTRUMENTED__=!0}let we=null;function xe(t){const e="unhandledrejection";_e(e,t),ve(e,ke)}function ke(){we=n.onunhandledrejection,n.onunhandledrejection=function(t){return ye("unhandledrejection",t),!we||we.apply(this,arguments)},n.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let Ie=!1;function Te(){Ie||(Ie=!0,Se($e),xe($e))}function $e(){const e=se(),n=e&&re(e);if(n){const e="internal_error";t&&D.log(`[Tracing] Root span: ${e} -> Global error occurred`),n.setStatus({code:2,message:e})}}function De(t){var e;if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const n=t||(null==(e=gt())?void 0:e.getOptions());return!(!n||null==n.tracesSampleRate&&!n.tracesSampler)}$e.tag="sentry_tracingErrorCallback";const Ce="production",Oe=/^o(\d+)\./,Ne=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ae(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function Pe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Re(e){const n="string"==typeof e?function(t){const e=Ne.exec(t);if(!e)return void $((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,s="",i="",o="",a=""]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return Pe({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}(e):Pe(e);if(n&&function(e){if(!t)return!0;const{port:n,projectId:r,protocol:s}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(D.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(r.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(s)?n&&isNaN(parseInt(n,10))&&(D.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(D.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(D.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(n))return n}const je="_frozenDsc";function Me(t,e){R(t,je,e)}function Le(t,e){const n=e.getOptions(),{publicKey:r,host:s}=e.getDsn()||{};let i;n.orgId?i=String(n.orgId):s&&(i=function(t){const e=t.match(Oe);return null==e?void 0:e[1]}(s));const o={environment:n.environment||Ce,release:n.release,public_key:r,trace_id:t,org_id:i};return e.emit("createDsc",o),o}function Ue(t,e){const n=e.getPropagationContext();return n.dsc||Le(n.traceId,t)}function Fe(t){var e;const n=gt();if(!n)return{};const r=re(t),s=Kt(r),i=s.data,o=r.spanContext().traceState,a=(null==o?void 0:o.get("sentry.sample_rate"))??i[yt]??i[bt];function c(t){return"number"!=typeof a&&"string"!=typeof a||(t.sample_rate=`${a}`),t}const u=r[je];if(u)return c(u);const l=null==o?void 0:o.get("sentry.dsc"),d=l&&Lt(l);if(d)return c(d);const p=Le(t.spanContext().traceId,n),f=i[vt],h=s.description;return"url"!==f&&h&&(p.transaction=h),De()&&(p.sampled=String(Qt(r)),p.sample_rand=(null==o?void 0:o.get("sentry.sample_rand"))??(null==(e=Pt(r).scope)?void 0:e.getPropagationContext().sampleRand.toString())),c(p),n.emit("createDsc",p,r),p}class Be{constructor(t={}){this._traceId=t.traceId||st(),this._spanId=t.spanId||it()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,e){}}function Je(t,e=100,n=1/0){try{return Ge("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ze(t,e=3,n=102400){const r=Je(t,e);return s=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(s))>n?ze(t,e-1,n):r;var s}function Ge(t,e,n=1/0,r=1/0,s=function(){const t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function n(e){t.delete(e)}return[e,n]}()){const[i,o]=s;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const a=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(y(e))return"[VueViewModel]";if(m(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${fe(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return(null==e?void 0:e.constructor)?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===c)return a.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return Ge("",u.toJSON(),c-1,r,s)}catch(f){}const l=Array.isArray(e)?[]:{};let d=0;const p=L(e);for(const h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(d>=r){l[h]="[MaxProperties ~]";break}const t=p[h];l[h]=Ge(h,t,c-1,r,s),d++}return o(e),l}function He(t,e=[]){return[t,e]}function We(t,e){const[n,r]=t;return[n,[...r,e]]}function Ve(t,e){const n=t[1];for(const r of n){if(e(r,r[0].type))return!0}return!1}function Ye(t){const e=s(n);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function qe(t){const[e,n]=t;let r=JSON.stringify(e);function s(t){"string"==typeof r?r="string"==typeof t?r+t:[Ye(r),t]:r.push("string"==typeof t?Ye(t):t)}for(const i of n){const[t,e]=i;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof e||e instanceof Uint8Array)s(e);else{let t;try{t=JSON.stringify(e)}catch(ns){t=JSON.stringify(Je(e))}s(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}(r)}function Ke(t){return[{type:"span"},t]}function Qe(t){const e="string"==typeof t.data?Ye(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const Xe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ze(t){return Xe[t]}function tn(t){if(!(null==t?void 0:t.sdk))return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function en(t,e,n,r){var s;const i=null==(s=t.sdkProcessingMetadata)?void 0:s.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Ae(r)},...i&&{trace:i}}}function nn(e,n,r,s=se()){const i=s&&re(s);i&&(t&&D.log(`[Measurement] Setting measurement on root span: ${e} = ${n} ${r}`),i.addEvent(e,{[kt]:n,[xt]:r}))}function rn(t){if(!t||0===t.length)return;const e={};return t.forEach((t=>{const n=t.attributes||{},r=n[xt],s=n[kt];"string"==typeof r&&"number"==typeof s&&(e[t.name]={value:s,unit:r})})),e}class sn{constructor(t={}){this._traceId=t.traceId||st(),this._spanId=t.spanId||it(),this._startTime=t.startTimestamp||q(),this._links=t.links,this._attributes={},this.setAttributes({[Et]:"manual",[St]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,e){}spanContext(){const{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?1:0}}setAttribute(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach((e=>this.setAttribute(e,t[e]))),this}updateStartTime(t){this._startTime=Yt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(vt,"custom"),this}end(e){this._endTime||(this._endTime=Yt(e),function(e){if(!t)return;const{description:n="< unknown name >",op:r="< unknown op >"}=Kt(e),{spanId:s}=e.spanContext(),i=`[Tracing] Finishing "${r}" ${re(e)===e?"root ":""}span "${n}" with ID ${s}`;D.log(i)}(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[St],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Xt(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Et],profile_id:this._attributes[Tt],exclusive_time:this._attributes[$t],measurements:rn(this._events),is_segment:this._isStandaloneSpan&&re(this)===this||void 0,segment_id:this._isStandaloneSpan?re(this).spanContext().spanId:void 0,links:Vt(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){t&&D.log("[Tracing] Adding an event to span:",e);const s=on(n)?n:r||q(),i=on(n)?{}:n||{},o={name:e,time:Yt(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=gt();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===re(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(t){const e=gt();if(!e)return;const n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(function(t,e){const n=Fe(t[0]),r=null==e?void 0:e.getDsn(),s=null==e?void 0:e.getOptions().tunnel,i={sent_at:(new Date).toISOString(),...(o=n,!!o.trace_id&&!!o.public_key&&{trace:n}),...!!s&&r&&{dsn:Ae(r)}};var o;const a=null==e?void 0:e.getOptions().beforeSendSpan,c=a?t=>{const e=Kt(t);return a(e)||(ie(),e)}:Kt,u=[];for(const l of t){const t=c(l);t&&u.push(Ke(t))}return He(i,u)}([this],e)):(t&&D.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const n=this._convertSpanToTransaction();if(n){(Pt(this).scope||ft()).captureEvent(n)}}_convertSpanToTransaction(){var e;if(!an(Kt(this)))return;this._name||(t&&D.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:n,isolationScope:r}=Pt(this),s=null==(e=null==n?void 0:n.getScopeData().sdkProcessingMetadata)?void 0:e.normalizedRequest;if(!0!==this._sampled)return;const i=ne(this).filter((t=>t!==this&&!function(t){return t instanceof sn&&t.isStandaloneSpan()}(t))).map((t=>Kt(t))).filter(an),o=this._attributes[vt];delete this._attributes[It],i.forEach((t=>{delete t.data[It]}));const a={contexts:{trace:Ht(this)},spans:i.length>1e3?i.sort(((t,e)=>t.start_timestamp-e.start_timestamp)).slice(0,1e3):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:n,capturedSpanIsolationScope:r,dynamicSamplingContext:Fe(this)},request:s,...o&&{transaction_info:{source:o}}},c=rn(this._events);return c&&Object.keys(c).length&&(t&&D.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function on(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function an(t){return!!(t.start_timestamp&&t.timestamp&&t.span_id&&t.trace_id)}const cn="__SENTRY_SUPPRESS_TRACING__";function un(e){const n=dn();if(n.startInactiveSpan)return n.startInactiveSpan(e);const r=function(t){const e=t.experimental||{},n={isStandalone:e.standalone,...t};if(t.startTime){const e={...n};return e.startTimestamp=Yt(t.startTime),delete e.startTime,e}return n}(e),{forceTransaction:s,parentSpan:i}=e;return(e.scope?t=>mt(e.scope,t):void 0!==i?t=>ln(i,t):t=>t())((()=>{const n=ft(),i=function(t){const e=rt(t);if(!e)return;const n=gt(),r=n?n.getOptions():{};if(r.parentSpanIsAlwaysRootSpan)return re(e);return e}(n);return e.onlyIfParent&&!i?new Be:function({parentSpan:e,spanArguments:n,forceTransaction:r,scope:s}){if(!De()){const t=new Be;if(r||!e){Me(t,{sampled:"false",sample_rate:"0",transaction:n.name,...Fe(t)})}return t}const i=ht();let o;if(e&&!r)o=function(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),i=!e.getScopeData().sdkProcessingMetadata[cn]&&Qt(t),o=i?new sn({...n,parentSpanId:r,traceId:s,sampled:i}):new Be({traceId:s});ee(t,o);const a=gt();a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o));return o}(e,s,n),ee(e,o);else if(e){const t=Fe(e),{traceId:r,spanId:i}=e.spanContext(),a=Qt(e);o=pn({traceId:r,parentSpanId:i,...n},s,a),Me(o,t)}else{const{traceId:t,dsc:e,parentSpanId:r,sampled:a}={...i.getPropagationContext(),...s.getPropagationContext()};o=pn({traceId:t,parentSpanId:r,...n},s,a),e&&Me(o,e)}return function(e){if(!t)return;const{description:n="< unknown name >",op:r="< unknown op >",parent_span_id:s}=Kt(e),{spanId:i}=e.spanContext(),o=Qt(e),a=re(e),c=a===e,u=`[Tracing] Starting ${o?"sampled":"unsampled"} ${c?"root ":""}span`,l=[`op: ${r}`,`name: ${n}`,`ID: ${i}`];if(s&&l.push(`parent ID: ${s}`),!c){const{op:t,description:e}=Kt(a);l.push(`root ID: ${a.spanContext().spanId}`),t&&l.push(`root op: ${t}`),e&&l.push(`root description: ${e}`)}D.log(`${u}\n  ${l.join("\n  ")}`)}(o),function(t,e,n){t&&(R(t,At,n),R(t,Nt,e))}(o,s,i),o}({parentSpan:i,spanArguments:r,forceTransaction:s,scope:n})}))}function ln(t,e){const n=dn();return n.withActiveSpan?n.withActiveSpan(t,e):mt((n=>(nt(n,t||void 0),e(n))))}function dn(){return pt(r())}function pn(e,n,r){var s;const i=gt(),o=(null==i?void 0:i.getOptions())||{},{name:a=""}=e,c={spanAttributes:{...e.attributes},spanName:a,parentSampled:r};null==i||i.emit("beforeSampling",c,{decision:!1});const u=c.parentSampled??r,l=c.spanAttributes,d=n.getPropagationContext(),[p,f,h]=n.getScopeData().sdkProcessingMetadata[cn]?[!1]:function(e,n,r){if(!De(e))return[!1];let s,i;"function"==typeof e.tracesSampler?(i=e.tracesSampler({...n,inheritOrSampleWith:t=>"number"==typeof n.parentSampleRate?n.parentSampleRate:"boolean"==typeof n.parentSampled?Number(n.parentSampled):t}),s=!0):void 0!==n.parentSampled?i=n.parentSampled:void 0!==e.tracesSampleRate&&(i=e.tracesSampleRate,s=!0);const o=Rt(i);if(void 0===o)return t&&D.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!o)return t&&D.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,o,s];const a=r<o;return a||t&&D.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[a,o,s]}(o,{name:a,parentSampled:u,attributes:l,parentSampleRate:Rt(null==(s=d.dsc)?void 0:s.sample_rate)},d.sampleRand),m=new sn({...e,attributes:{[vt]:"custom",[yt]:void 0!==f&&h?f:void 0,...l},sampled:p});return!p&&i&&(t&&D.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",m),m}const fn={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function hn(e,n={}){const r=new Map;let s,i=!1,o="externalFinish",a=!n.disableAutoFinish;const c=[],{idleTimeout:u=fn.idleTimeout,finalTimeout:l=fn.finalTimeout,childSpanTimeout:d=fn.childSpanTimeout,beforeSpanEnd:p}=n,f=gt();if(!f||!De()){const t=new Be;return Me(t,{sample_rate:"0",sampled:"false",...Fe(t)}),t}const h=ft(),m=se(),g=function(e){const n=un(e);return nt(ft(),n),t&&D.log("[Tracing] Started span is an idle span"),n}(e);function _(){s&&(clearTimeout(s),s=void 0)}function v(t){_(),s=setTimeout((()=>{!i&&0===r.size&&a&&(o="idleTimeout",g.end(t))}),u)}function y(t){s=setTimeout((()=>{!i&&a&&(o="heartbeatFailed",g.end(t))}),d)}function b(e){i=!0,r.clear(),c.forEach((t=>t())),nt(h,m);const n=Kt(g),{start_timestamp:s}=n;if(!s)return;n.data[wt]||g.setAttribute(wt,o),D.log(`[Tracing] Idle span "${n.op}" finished`);const a=ne(g).filter((t=>t!==g));let d=0;a.forEach((n=>{n.isRecording()&&(n.setStatus({code:2,message:"cancelled"}),n.end(e),t&&D.log("[Tracing] Cancelling span since span ended early",JSON.stringify(n,void 0,2)));const r=Kt(n),{timestamp:s=0,start_timestamp:i=0}=r,o=i<=e,a=s-i<=(l+u)/1e3;if(t){const t=JSON.stringify(n,void 0,2);o?a||D.log("[Tracing] Discarding span since it finished after idle span final timeout",t):D.log("[Tracing] Discarding span since it happened after idle span was finished",t)}a&&o||(!function(t,e){t[Zt]&&t[Zt].delete(e)}(g,n),d++)})),d>0&&g.setAttribute("sentry.idle_span_discarded_spans",d)}return g.end=new Proxy(g.end,{apply(t,e,n){if(p&&p(g),e instanceof Be)return;const[r,...s]=n,i=Yt(r||q()),o=ne(g).filter((t=>t!==g));if(!o.length)return b(i),Reflect.apply(t,e,[i,...s]);const a=o.map((t=>Kt(t).timestamp)).filter((t=>!!t)),c=a.length?Math.max(...a):void 0,u=Kt(g).start_timestamp,d=Math.min(u?u+l/1e3:1/0,Math.max(u||-1/0,Math.min(i,c||1/0)));return b(d),Reflect.apply(t,e,[d,...s])}}),c.push(f.on("spanStart",(t=>{if(i||t===g||Kt(t).timestamp)return;var e;ne(g).includes(t)&&(e=t.spanContext().spanId,_(),r.set(e,!0),y(q()+d/1e3))}))),c.push(f.on("spanEnd",(t=>{var e;i||(e=t.spanContext().spanId,r.has(e)&&r.delete(e),0===r.size&&v(q()+u/1e3))}))),c.push(f.on("idleSpanEnableAutoFinish",(t=>{t===g&&(a=!0,v(),r.size&&y())}))),n.disableAutoFinish||v(),setTimeout((()=>{i||(g.setStatus({code:2,message:"deadline_exceeded"}),o="finalTimeout",g.end())}),l),g}var mn;function gn(t){return new vn((e=>{e(t)}))}function _n(t){return new vn(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(mn||(mn={}));class vn{constructor(t){this._state=mn.PENDING,this._handlers=[],this._runExecutor(t)}then(t,e){return new vn(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(ns){r(ns)}else n(e)},t=>{if(e)try{n(e(t))}catch(ns){r(ns)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new vn(((e,n)=>{let r,s;return this.then((e=>{s=!1,r=e,t&&t()}),(e=>{s=!0,r=e,t&&t()})).then((()=>{s?n(r):e(r)}))}))}_executeHandlers(){if(this._state===mn.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===mn.RESOLVED&&t[1](this._value),this._state===mn.REJECTED&&t[2](this._value),t[0]=!0)}))}_runExecutor(t){const e=(t,e)=>{this._state===mn.PENDING&&(_(e)?e.then(n,r):(this._state=t,this._value=e,this._executeHandlers()))},n=t=>{e(mn.RESOLVED,t)},r=t=>{e(mn.REJECTED,t)};try{t(n,r)}catch(ns){r(ns)}}}function yn(e,n,r,s=0){return new vn(((i,o)=>{const a=e[s];if(null===n||"function"!=typeof a)i(n);else{const c=a({...n},r);t&&a.id&&null===c&&D.log(`Event processor "${a.id}" dropped event`),_(c)?c.then((t=>yn(e,t,r,s+1).then(i))).then(null,o):yn(e,c,r,s+1).then(i).then(null,o)}}))}let bn,Sn,En;function wn(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra});Object.keys(r).length&&(t.tags={...r,...t.tags});Object.keys(s).length&&(t.user={...s,...t.user});Object.keys(i).length&&(t.contexts={...i,...t.contexts});o&&(t.level=o);a&&"transaction"!==t.type&&(t.transaction=a)}(t,e),r&&function(t,e){t.contexts={trace:Wt(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Fe(e),...t.sdkProcessingMetadata};const n=re(e),r=Kt(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,s),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function xn(t,e){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:f,span:h}=e;kn(t,"extra",n),kn(t,"tags",r),kn(t,"user",s),kn(t,"contexts",i),t.sdkProcessingMetadata=tt(t.sdkProcessingMetadata,a,2),o&&(t.level=o),f&&(t.transactionName=f),h&&(t.span=h),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}function kn(t,e,n){t[e]=tt(t[e],n,1)}function In(t,e,r,s,o,a){const{normalizeDepth:c=3,normalizeMaxBreadth:u=1e3}=t,l={...e,event_id:e.event_id||r.event_id||J(),timestamp:e.timestamp||Y()},d=r.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:s,maxValueLength:i=250}=e;t.environment=t.environment||n||Ce,!t.release&&r&&(t.release=r);!t.dist&&s&&(t.dist=s);const o=t.request;(null==o?void 0:o.url)&&(o.url=C(o.url,i))}(l,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(l,d),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){var r,s;const i=function(t){const e=n._sentryDebugIds;if(!e)return{};const r=Object.keys(e);return En&&r.length===Sn||(Sn=r.length,En=r.reduce(((n,r)=>{bn||(bn={});const s=bn[r];if(s)n[s[0]]=s[1];else{const s=t(r);for(let t=s.length-1;t>=0;t--){const i=s[t],o=null==i?void 0:i.filename,a=e[r];if(o&&a){n[o]=a,bn[r]=[o,a];break}}}return n}),{})),En}(e);null==(s=null==(r=t.exception)?void 0:r.values)||s.forEach((t=>{var e,n;null==(n=null==(e=t.stacktrace)?void 0:e.frames)||n.forEach((t=>{t.filename&&(t.debug_id=i[t.filename])}))}))}(l,t.stackParser);const p=function(t,e){if(!e)return t;const n=t?t.clone():new ot;return n.update(e),n}(s,r.captureContext);r.mechanism&&W(l,r.mechanism);const f=o?o.getEventProcessors():[],h=i("globalScope",(()=>new ot)).getScopeData();if(a){xn(h,a.getScopeData())}if(p){xn(h,p.getScopeData())}const m=[...r.attachments||[],...h.attachments];m.length&&(r.attachments=m),wn(l,h);return yn([...f,...h.eventProcessors],l,r).then((t=>(t&&function(t){var e,n;const r={};if(null==(n=null==(e=t.exception)?void 0:e.values)||n.forEach((t=>{var e,n;null==(n=null==(e=t.stacktrace)?void 0:e.frames)||n.forEach((t=>{t.debug_id&&(t.abs_path?r[t.abs_path]=t.debug_id:t.filename&&(r[t.filename]=t.debug_id),delete t.debug_id)}))})),0===Object.keys(r).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const s=t.debug_meta.images;Object.entries(r).forEach((([t,e])=>{s.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof c&&c>0?function(t,e,n){var r,s;if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Je(t.data,e,n)}})))},...t.user&&{user:Je(t.user,e,n)},...t.contexts&&{contexts:Je(t.contexts,e,n)},...t.extra&&{extra:Je(t.extra,e,n)}};(null==(r=t.contexts)?void 0:r.trace)&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Je(t.contexts.trace.data,e,n)));t.spans&&(i.spans=t.spans.map((t=>({...t,...t.data&&{data:Je(t.data,e,n)}}))));(null==(s=t.contexts)?void 0:s.flags)&&i.contexts&&(i.contexts.flags=Je(t.contexts.flags,3,n));return i}(t,c,u):t)))}function Tn(t,e){return ft().captureException(t,void 0)}function $n(t,e){return ft().captureEvent(t,e)}function Dn(t,e){ht().setContext(t,e)}function Cn(t){ht().addEventProcessor(t)}function On(t){const e=ht(),r=ft(),{userAgent:s}=n.navigator||{},i=X({user:r.getUser()||e.getUser(),...s&&{userAgent:s},...t}),o=e.getSession();return"ok"===(null==o?void 0:o.status)&&Z(o,{status:"exited"}),Nn(),e.setSession(i),i}function Nn(){const t=ht(),e=ft().getSession()||t.getSession();e&&function(t){let e={};"ok"===t.status&&(e={status:"exited"}),Z(t,e)}(e),An(),t.setSession()}function An(){const t=ht(),e=gt(),n=t.getSession();n&&e&&e.captureSession(n)}function Pn(t=!1){t?Nn():An()}function Rn(t,e,n){return e||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}const jn=[];function Mn(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;if(e.forEach((t=>{t.isDefaultInstance=!0})),Array.isArray(n))r=[...e,...n];else if("function"==typeof n){const t=n(e);r=Array.isArray(t)?t:[t]}else r=e;return function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.values(e)}(r)}function Ln(t,e){for(const n of e)(null==n?void 0:n.afterAllSetup)&&n.afterAllSetup(t)}function Un(e,n,r){if(r[n.name])t&&D.log(`Integration skipped because it was already installed: ${n.name}`);else{if(r[n.name]=n,-1===jn.indexOf(n.name)&&"function"==typeof n.setupOnce&&(n.setupOnce(),jn.push(n.name)),n.setup&&"function"==typeof n.setup&&n.setup(e),"function"==typeof n.preprocessEvent){const t=n.preprocessEvent.bind(n);e.on("preprocessEvent",((n,r)=>t(n,r,e)))}if("function"==typeof n.processEvent){const t=n.processEvent.bind(n),r=Object.assign(((n,r)=>t(n,r,e)),{id:n.name});e.addEventProcessor(r)}t&&D.log(`Integration installed: ${n.name}`)}}function Fn(t){return t}function Bn(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];(null==n?void 0:n.value)&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch(ns){}return e}const Jn="Not capturing exception because it's already been captured.",zn="Discarded session because of missing or non-string release",Gn=Symbol.for("SentryInternalError"),Hn=Symbol.for("SentryDoNotSendEventError");function Wn(t){return{message:t,[Gn]:!0}}function Vn(t){return{message:t,[Hn]:!0}}function Yn(t){return!!t&&"object"==typeof t&&Gn in t}function qn(t){return!!t&&"object"==typeof t&&Hn in t}class Kn{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Re(e.dsn):t&&D.warn("No DSN provided, client will not send events."),this._dsn){const t=Rn(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,n,r){const s=J();if(V(e))return t&&D.log(Jn),s;const i={event_id:s,...n};return this._process(this.eventFromException(e,i).then((t=>this._captureEvent(t,i,r)))),i.event_id}captureMessage(t,e,n,r){const s={event_id:J(),...n},i=f(t)?t:String(t),o=h(t)?this.eventFromMessage(i,e,s):this.eventFromException(t,s);return this._process(o.then((t=>this._captureEvent(t,s,r)))),s.event_id}captureEvent(e,n,r){const s=J();if((null==n?void 0:n.originalException)&&V(n.originalException))return t&&D.log(Jn),s;const i={event_id:s,...n},o=e.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope;return this._process(this._captureEvent(e,i,a||r,c)),i.event_id}captureSession(t){this.sendSession(t),Z(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):gn(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];Un(this,t,this._integrations),e||Ln(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=function(t,e,n,r){const s=tn(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,null==n?void 0:n.sdk);const o=en(t,s,r,e);return delete t.sdkProcessingMetadata,He(o,[[{type:i},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of e.attachments||[])n=We(n,Qe(s));const r=this.sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(e){const{release:n,environment:r=Ce}=this._options;if("aggregates"in e){const s=e.attrs||{};if(!s.release&&!n)return void(t&&D.warn(zn));s.release=s.release||n,s.environment=s.environment||r,e.attrs=s}else{if(!e.release&&!n)return void(t&&D.warn(zn));e.release=e.release||n,e.environment=e.environment||r}this.emit("beforeSendSession",e);const s=function(t,e,n,r){const s=tn(n);return He({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Ae(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(e,n,r=1){if(this._options.sendClientReports){const s=`${e}:${n}`;t&&D.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(t&&D.error("Error while sending envelope:",e),e))):(t&&D.error("Transport disabled"),gn({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&Un(t,e,n)})),n}(this,t),Ln(this,t)}_updateSessionFromEvent(t,e){var n;let r="fatal"===e.level,s=!1;const i=null==(n=e.exception)?void 0:n.values;if(i){s=!0;for(const t of i){const e=t.mechanism;if(!1===(null==e?void 0:e.handled)){r=!0;break}}}const o="ok"===t.status;(o&&0===t.errors||o&&r)&&(Z(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new vn((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){const s=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&(null==i?void 0:i.length)&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),In(s,t,e,n,this,r).then((t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts={trace:_t(n),...t.contexts};const r=Ue(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:r,...t.sdkProcessingMetadata},t}))}_captureEvent(e,n={},r=ft(),s=ht()){return t&&Qn(e)&&D.log(`Captured error event \`${Bn(e)[0]||"<unknown>"}\``),this._processEvent(e,n,r,s).then((t=>t.event_id),(e=>{t&&(qn(e)?D.log(e.message):Yn(e)?D.warn(e.message):D.warn(e))}))}_processEvent(t,e,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=Xn(t),a=Qn(t),c=t.type||"error",u=`before send for type \`${c}\``,l=void 0===i?void 0:Rt(i);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),_n(Vn(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const d="replay_event"===c?"replay":c;return this._prepareEvent(t,e,n,r).then((t=>{if(null===t)throw this.recordDroppedEvent("event_processor",d),Vn("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;const n=function(t,e,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o}=e;let a=n;if(Qn(a)&&s)return s(a,r);if(Xn(a)){if(o){const t=o(function(t){var e;const{trace_id:n,parent_span_id:r,span_id:s,status:i,origin:o,data:a,op:c}=(null==(e=t.contexts)?void 0:e.trace)??{};return{data:a??{},description:t.transaction,op:c,parent_span_id:r,span_id:s??"",start_timestamp:t.start_timestamp??0,status:i,timestamp:t.timestamp,trace_id:n??"",origin:o,profile_id:null==a?void 0:a[Tt],exclusive_time:null==a?void 0:a[$t],measurements:t.measurements,is_segment:!0}}(a));if(t?a=tt(n,{type:"transaction",timestamp:(c=t).timestamp,start_timestamp:c.start_timestamp,transaction:c.description,contexts:{trace:{trace_id:c.trace_id,span_id:c.span_id,parent_span_id:c.parent_span_id,op:c.op,status:c.status,origin:c.origin,data:{...c.data,...c.profile_id&&{[Tt]:c.profile_id},...c.exclusive_time&&{[$t]:c.exclusive_time}}}},measurements:c.measurements}):ie(),a.spans){const t=[];for(const e of a.spans){const n=o(e);n?t.push(n):(ie(),t.push(e))}a.spans=t}}if(i){if(a.spans){const t=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(a,r)}}var c;return a}(0,s,t,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(_(t))return t.then((t=>{if(!m(t)&&null!==t)throw Wn(n);return t}),(t=>{throw Wn(`${e} rejected with ${t}`)}));if(!m(t)&&null!==t)throw Wn(n);return t}(n,u)})).then((s=>{var i;if(null===s){if(this.recordDroppedEvent("before_send",d),o){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw Vn(`${u} returned \`null\`, will not send event.`)}const c=n.getSession()||r.getSession();if(a&&c&&this._updateSessionFromEvent(c,s),o){const t=((null==(i=s.sdkProcessingMetadata)?void 0:i.spanCountBeforeProcessing)||0)-(s.spans?s.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const l=s.transaction_info;if(o&&l&&s.transaction!==t.transaction){const t="custom";s.transaction_info={...l,source:t}}return this.sendEvent(s,e),s})).then(null,(t=>{if(qn(t)||Yn(t))throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),Wn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}}))}_flushOutcomes(){t&&D.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(t&&D.log("No outcomes to send"));if(!this._dsn)return void(t&&D.log("No dsn provided, will not send outcomes"));t&&D.log("Sending outcomes:",e);const n=(r=e,He((s=this._options.tunnel&&Ae(this._dsn))?{dsn:s}:{},[[{type:"client_report"},{timestamp:Y(),discarded_events:r}]]));var r,s;this.sendEnvelope(n)}}function Qn(t){return void 0===t.type}function Xn(t){return"transaction"===t.type}function Zn(t,e){var r;const s=function(t){var e;return null==(e=n._sentryClientToLogBufferMap)?void 0:e.get(t)}(t)??[];if(0===s.length)return;const i=t.getOptions(),o=function(t,e,n,r){const s={};return(null==e?void 0:e.sdk)&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(s.dsn=Ae(r)),He(s,[(i=t,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(s,i._metadata,i.tunnel,t.getDsn());null==(r=n._sentryClientToLogBufferMap)||r.set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function tr(e,n){!0===n.debug&&(t?D.enable():$((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));ft().update(n.initialScope);const r=new e(n);return function(t){ft().setClient(t)}(r),r.init(),r}n._sentryClientToLogBufferMap=new WeakMap;const er=Symbol.for("SentryBufferFullError");function nr(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return _n(er);const s=r();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new vn(((n,r)=>{let s=e.length;if(!s)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{gn(t).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}function rr(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function sr(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=null==n?void 0:n["x-sentry-rate-limits"],o=null==n?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[t,e,,,n]=a.split(":",5),i=parseInt(t,10),o=1e3*(isNaN(i)?60:i);if(e)for(const a of e.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(s[a]=r+o);else s.all=r+o}else o?s.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(o,r):429===e&&(s.all=r+6e4);return s}function ir(e,n,r=nr(e.bufferSize||64)){let s={};return{send:function(i){const o=[];if(Ve(i,((t,n)=>{const r=Ze(n);rr(s,r)?e.recordDroppedEvent("ratelimit_backoff",r):o.push(t)})),0===o.length)return gn({});const a=He(i[0],o),c=t=>{Ve(a,((n,r)=>{e.recordDroppedEvent(t,Ze(r))}))};return r.add((()=>n({body:qe(a)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&t&&D.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),s=sr(s,e),e)),(e=>{throw c("network_error"),t&&D.error("Encountered error running transport request:",e),e})))).then((t=>t),(e=>{if(e===er)return t&&D.error("Skipped sending event because buffer is full."),c("queue_overflow"),gn({});throw e}))},flush:t=>r.drain(t)}}function or(t,e){const n=null==e?void 0:e.getDsn(),r=null==e?void 0:e.getOptions().tunnel;return function(t,e){return!!e&&t.includes(e.host)}(t,n)||function(t,e){if(!e)return!1;return ar(t)===ar(e)}(t,r)}function ar(t){return"/"===t[t.length-1]?t.slice(0,-1):t}function cr(t){var e;void 0===(null==(e=t.user)?void 0:e.ip_address)&&(t.user={...t.user,ip_address:"{{auto}}"})}function ur(t){var e;"aggregates"in t?void 0===(null==(e=t.attrs)?void 0:e.ip_address)&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}function lr(t,n,r=[n],s="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${n}`,packages:r.map((t=>({name:`${s}:@sentry/${t}`,version:e}))),version:e}),t._metadata=i}function dr(t={}){const e=gt();if(!function(){const t=gt();return!1!==(null==t?void 0:t.getOptions().enabled)&&!!(null==t?void 0:t.getTransport())}()||!e)return{};const n=pt(r());if(n.getTraceData)return n.getTraceData(t);const s=ft(),i=t.span||se(),o=i?function(t){const{traceId:e,spanId:n}=t.spanContext();return zt(e,n,Qt(t))}(i):function(t){const{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return zt(e,r,n)}(s),a=Ut(i?Fe(i):Ue(e,s));return Bt.test(o)?{"sentry-trace":o,baggage:a}:(D.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}const pr=100;function fr(t,e){const n=gt(),r=ht();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=pr}=n.getOptions();if(i<=0)return;const o={timestamp:Y(),...t},a=s?$((()=>s(o,e))):o;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,i))}let hr;const mr=new WeakMap,gr=()=>({name:"FunctionToString",setupOnce(){hr=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=M(this),n=mr.has(gt())&&void 0!==e?e:this;return hr.apply(n,t)}}catch{}},setup(t){mr.set(t,!0)}}),_r=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],vr=(e={})=>{let n;return{name:"EventFilters",setup(t){const r=t.getOptions();n=br(e,r)},processEvent(r,s,i){if(!n){const t=i.getOptions();n=br(e,t)}return function(e,n){if(e.type){if("transaction"===e.type&&function(t,e){if(!(null==e?void 0:e.length))return!1;const n=t.transaction;return!!n&&A(n,e)}(e,n.ignoreTransactions))return t&&D.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${G(e)}`),!0}else{if(function(t,e){if(!(null==e?void 0:e.length))return!1;return Bn(t).some((t=>A(t,e)))}(e,n.ignoreErrors))return t&&D.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${G(e)}`),!0;if(function(t){var e,n;if(!(null==(n=null==(e=t.exception)?void 0:e.values)?void 0:n.length))return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(e))return t&&D.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${G(e)}`),!0;if(function(t,e){if(!(null==e?void 0:e.length))return!1;const n=Sr(t);return!!n&&A(n,e)}(e,n.denyUrls))return t&&D.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${G(e)}.\nUrl: ${Sr(e)}`),!0;if(!function(t,e){if(!(null==e?void 0:e.length))return!0;const n=Sr(t);return!n||A(n,e)}(e,n.allowUrls))return t&&D.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${G(e)}.\nUrl: ${Sr(e)}`),!0}return!1}(r,n)?null:r}}},yr=(t={})=>({...vr(t),name:"InboundFilters"});function br(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:_r],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function Sr(e){var n,r;try{const t=[...(null==(n=e.exception)?void 0:n.values)??[]].reverse().find((t=>{var e,n,r;return void 0===(null==(e=t.mechanism)?void 0:e.parent_id)&&(null==(r=null==(n=t.stacktrace)?void 0:n.frames)?void 0:r.length)})),s=null==(r=null==t?void 0:t.stacktrace)?void 0:r.frames;return s?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(s):null}catch(s){return t&&D.error(`Cannot extract url for event ${G(e)}`),null}}function Er(t,e,n,r,s,i){var o;if(!(null==(o=s.exception)?void 0:o.values)||!i||!v(i.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=wr(t,e,r,i.originalException,n,s.exception.values,a,0))}function wr(t,e,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(v(r[s],Error)){xr(o,a);const i=t(e,r[s]),u=c.length;kr(i,s,u,a),c=wr(t,e,n,r[s],s,[i,...c],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(v(r,Error)){xr(o,a);const u=t(e,r),l=c.length;kr(u,`errors[${i}]`,l,a),c=wr(t,e,n,r,s,[u,...c],u,l)}})),c}function xr(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function kr(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function Ir(t){const e="console";_e(e,t),ve(e,Tr)}function Tr(){"console"in n&&I.forEach((function(t){t in n.console&&P(n.console,t,(function(e){return T[t]=e,function(...e){ye("console",{args:e,level:t});const r=T[t];null==r||r.apply(n.console,e)}}))}))}function $r(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const Dr=()=>{let e;return{name:"Dedupe",processEvent(n){if(n.type)return n;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Or(t,e))return!1;if(!Cr(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=Nr(e),r=Nr(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Or(t,e))return!1;if(!Cr(t,e))return!1;return!0}(t,e))return!0;return!1}(n,e))return t&&D.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(r){}return e=n}}};function Cr(t,e){let n=he(t),r=he(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const t=r[s],e=n[s];if(t.filename!==e.filename||t.lineno!==e.lineno||t.colno!==e.colno||t.function!==e.function)return!1}return!0}function Or(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(s){return!1}}function Nr(t){var e;return(null==(e=t.exception)?void 0:e.values)&&t.exception.values[0]}function Ar(t){return"isRelative"in t}function Pr(t,e){const n=t.indexOf("://")<=0&&0!==t.indexOf("//"),r=n?"thismessage:/":void 0;try{if("canParse"in URL&&!URL.canParse(t,r))return;const e=new URL(t,r);return n?{isRelative:n,pathname:e.pathname,search:e.search,hash:e.hash}:e}catch{}}function Rr(t){if(Ar(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function jr(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function Mr(t){return t.split(/[?#]/,1)[0]}function Lr(t,e,n,r,s="auto.http.browser"){if(!t.fetchData)return;const{method:i,url:o}=t.fetchData,a=De()&&e(o);if(t.endTimestamp&&a){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(!function(t,e){var n;if(e.response){Ot(t,e.response.status);const r=(null==(n=e.response)?void 0:n.headers)&&e.response.headers.get("content-length");if(r){const e=parseInt(r);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:2,message:"internal_error"});t.end()}(n,t),delete r[e]))}const c=!!se(),u=a&&c?un(function(t,e,n){const r=Pr(t);return{name:r?`${e} ${Rr(r)}`:e,attributes:Fr(t,r,e,n)}}(o,i,s)):new Be;if(t.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(t.fetchData.url)){const e=t.args[0],n=t.args[1]||{},r=function(t,e,n){const r=dr({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;const o=e.headers||(b(t)?t.headers:void 0);if(o){if(function(t){return"undefined"!=typeof Headers&&v(t,Headers)}(o)){const t=new Headers(o);if(t.get("sentry-trace")||t.set("sentry-trace",s),i){const e=t.get("baggage");e?Ur(e)||t.set("baggage",`${e},${i}`):t.set("baggage",i)}return t}if(Array.isArray(o)){const t=[...o];o.find((t=>"sentry-trace"===t[0]))||t.push(["sentry-trace",s]);const e=o.find((t=>"baggage"===t[0]&&Ur(t[1])));return i&&!e&&t.push(["baggage",i]),t}{const t="sentry-trace"in o?o["sentry-trace"]:void 0,e="baggage"in o?o.baggage:void 0,n=e?Array.isArray(e)?[...e]:[e]:[],r=e&&(Array.isArray(e)?e.find((t=>Ur(t))):Ur(e));return i&&!r&&n.push(i),{...o,"sentry-trace":t??s,baggage:n.length>0?n.join(","):void 0}}}return{...r}}(e,n,De()&&c?u:void 0);r&&(t.args[1]=n,n.headers=r)}const l=gt();if(l){const e={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};l.emit("beforeOutgoingRequestSpan",u,e)}return u}function Ur(t){return t.split(",").some((t=>t.trim().startsWith(jt)))}function Fr(t,e,n,r){const s={url:t,type:"fetch","http.method":n,[Et]:r,[St]:"http.client"};return e&&(Ar(e)||(s["http.url"]=e.href,s["server.address"]=e.host),e.search&&(s["http.query"]=e.search),e.hash&&(s["http.fragment"]=e.hash)),s}function Br(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}const Jr=n;function zr(){return"history"in Jr&&!!Jr.history}function Gr(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Hr(){var e;if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Jr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(ns){return!1}}())return!1;if(Gr(Jr.fetch))return!0;let n=!1;const r=Jr.document;if(r&&"function"==typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t),(null==(e=t.contentWindow)?void 0:e.fetch)&&(n=Gr(t.contentWindow.fetch)),r.head.removeChild(t)}catch(s){t&&D.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",s)}return n}function Wr(t,e){const n="fetch";_e(n,t),ve(n,(()=>Yr(void 0,e)))}function Vr(t){const e="fetch-body-resolved";_e(e,t),ve(e,(()=>Yr(qr)))}function Yr(t,e=!1){e&&!Hr()||P(n,"fetch",(function(e){return function(...r){const s=new Error,{method:i,url:o}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:Qr(e),method:Kr(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Qr(e),method:Kr(e,"method")?String(e.method).toUpperCase():"GET"}}(r),c={args:r,fetchData:{method:i,url:o},startTimestamp:1e3*q(),virtualError:s,headers:Xr(r)};return t||ye("fetch",{...c}),e.apply(n,r).then((async e=>(t?t(e):ye("fetch",{...c,endTimestamp:1e3*q(),response:e}),e)),(t=>{if(ye("fetch",{...c,endTimestamp:1e3*q(),error:t}),a(t)&&void 0===t.stack&&(t.stack=s.stack,R(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(c.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t}))}}))}function qr(t){let e;try{e=t.clone()}catch{return}!async function(t,e){if(null==t?void 0:t.body){const r=t.body,s=r.getReader(),i=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),9e4);let o=!0;for(;o;){let t;try{t=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),5e3);const{done:n}=await s.read();clearTimeout(t),n&&(e(),o=!1)}catch(n){o=!1}finally{clearTimeout(t)}}clearTimeout(i),s.releaseLock(),r.cancel().then(null,(()=>{}))}}(e,(()=>{ye("fetch-body-resolved",{endTimestamp:1e3*q(),response:t})}))}function Kr(t,e){return!!t&&"object"==typeof t&&!!t[e]}function Qr(t){return"string"==typeof t?t:t?Kr(t,"url")?t.url:t.toString?t.toString():"":""}function Xr(t){const[e,n]=t;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(b(e))return new Headers(e.headers)}catch{}}function Zr(){return"npm"}function ts(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function es(){return"undefined"!=typeof window&&(!ts()||function(){const t=n.process;return"renderer"===(null==t?void 0:t.type)}())}export{j as $,q as A,p as B,es as C,Rt as D,$ as E,vt as F,n as G,Fe as H,Cn as I,Dn as J,Je as K,gn as L,sr as M,rr as N,x as O,In as P,ht as Q,He as R,kt as S,en as T,tn as U,A as V,or as W,Tn as X,fr as Y,$r as Z,M as _,gt as a,mt as a0,H as a1,W as a2,u as a3,l as a4,d as a5,a as a6,m as a7,g as a8,f as a9,le as aA,tr as aB,yr as aC,gr as aD,Dr as aE,Vr as aF,Lr as aG,De as aH,Ot as aI,Mr as aJ,Be as aK,dr as aL,Ct as aM,bt as aN,Dt as aO,yt as aP,Te as aQ,fn as aR,st as aS,Jt as aT,wt as aU,hn as aV,Qt as aW,Pr as aX,ze as aa,B as ab,Kn as ac,lr as ad,Zn as ae,cr as af,ur as ag,Zr as ah,ir as ai,_n as aj,ue as ak,oe as al,Fn as am,Ir as an,Wr as ao,Br as ap,G as aq,O as ar,On as as,Pn as at,Se as au,xe as av,$n as aw,h as ax,Er as ay,Mn as az,ft as b,un as c,se as d,re as e,Q as f,fe as g,xt as h,E as i,$t as j,St as k,D as l,Et as m,nn as n,k as o,jr as p,_e as q,ve as r,Kt as s,ye as t,P as u,R as v,ln as w,J as x,zr as y,Gr as z};
//# sourceMappingURL=core-CnjMJUhl.js.map
