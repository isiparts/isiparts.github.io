try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="70c1a3ce-232e-46d4-8cbc-f766c772702e",e._sentryDebugIdIdentifier="sentry-dbid-70c1a3ce-232e-46d4-8cbc-f766c772702e")}catch(c){}import{_ as e,u as s,T as t,h as i,b as r,g as o,r as n}from"./index-OdOCjMiI.js";import{n as a,a as p}from"./nav-Ck_lkINx.js";import"./call-bind-BFQqbmjp.js";import"./@alpinejs/resize-CO1KAvJ_.js";import"./alpinejs-D043VxOM.js";import"./pinecone-router-DyexUCCX.js";import"./posthog-js-CcaH5niV.js";import"./node-polyglot-DlDlDF9m.js";import"./object.entries-DoVD67HD.js";import"./define-properties-JTyBPjo4.js";import"./object-keys-2-4LXbPU.js";import"./define-data-property-Dhkuw5U5.js";import"./es-define-property-BWOk23UV.js";import"./es-errors-CDnSFAF0.js";import"./gopd-DyUmdEtY.js";import"./has-property-descriptors-DsFaFEFP.js";import"./es-object-atoms-DlYjuSOe.js";import"./call-bound-BNSK0NEA.js";import"./get-intrinsic-Cxr_xTZv.js";import"./math-intrinsics-BRbcxSny.js";import"./has-symbols-B2_RGGVc.js";import"./get-proto-BRVA0OAU.js";import"./dunder-proto-DMCSAdn6.js";import"./call-bind-apply-helpers-BSpli2uY.js";import"./function-bind-DR49pCHT.js";import"./hasown-NUnpZb-C.js";import"./warning-Bp1nZ229.js";import"./@sentry/browser-Bk1Xewov.js";import"./@sentry/core-CnjMJUhl.js";import"./@sentry-internal/browser-utils-BUixo4nC.js";import"./@sentry-internal/replay-yt77ihwD.js";import"./set-function-length-BuPlcIl4.js";import"./config.service-YGUPWIw7.js";import"./flowbite-Ln6Jbqyc.js";import"./@popperjs/core-IAo43KLY.js";import"./flowbite-datepicker-D6bDqdY1.js";const l={name:()=>"presaleNew",template:()=>e((()=>import("./presale-new-CzaF2qgG.js")),[]),data:()=>({user:null,nav:null,aside:null,loading:!0,presaleCif:"",submitting:!1,async init(){console.log("presale-new@init");try{this.user=await o()}catch(e){location.href="/login?redirect=/potencial/new"}this.nav=await n(a),this.aside=await n(p),this.loading=!1},async createPresale(){this.submitting=!0;try{const e=await fetch(s("isiWeb/web/v1/empresas/01/presuntos"),{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cif:this.presaleCif})});if(!e.ok){const s=await e.json();throw new Error(this.$t(s.message))}const r=await e.json();r&&this.$dispatch(t,{msg:r.message,level:i}),this.$router.navigate(`/potencial/edit/${r.data.pre}`)}catch(e){console.error(e),this.$dispatch(t,{msg:e,level:r})}this.submitting=!1}})};export{l as default};
//# sourceMappingURL=presale-new-hso2XmcW.js.map
