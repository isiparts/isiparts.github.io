try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9c0e9637-33b1-4d42-b690-eb12c03e8ddf",e._sentryDebugIdIdentifier="sentry-dbid-9c0e9637-33b1-4d42-b690-eb12c03e8ddf")}catch(_t){}import{G as e,l as t,g as n,s as r,w as i,a as o,b as s,c as a,d as c,e as u,f as d,S as l,h as p,i as f,j as m,k as h,m as v,n as y,p as g,o as b,q as _,r as T,t as E,u as k,v as w,x as S,y as C,z as L,A,B as I}from"../@sentry/core-CnjMJUhl.js";const x="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,P=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},R=e,M=(e=!0)=>{var t,n;const r=null==(n=null==(t=R.performance)?void 0:t.getEntriesByType)?void 0:n.call(t,"navigation")[0];if(!e||r&&r.responseStart>0&&r.responseStart<performance.now())return r},N=()=>{const e=M();return(null==e?void 0:e.activationStart)||0},q=(e,t)=>{var n,r;const i=M();let o="navigate";i&&((null==(n=R.document)?void 0:n.prerendering)||N()>0?o="prerender":(null==(r=R.document)?void 0:r.wasDiscarded)?o="restore":i.type&&(o=i.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:o}},D=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(_t){}},O=e=>{const t=t=>{var n;"pagehide"!==t.type&&"hidden"!==(null==(n=R.document)?void 0:n.visibilityState)||e(t)};R.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},$=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let B=-1;const U=e=>{"hidden"===R.document.visibilityState&&B>-1&&(B="visibilitychange"===e.type?e.timeStamp:0,H())},H=()=>{removeEventListener("visibilitychange",U,!0),removeEventListener("prerenderingchange",U,!0)},z=()=>(R.document&&B<0&&(B="hidden"!==R.document.visibilityState||R.document.prerendering?1/0:0,addEventListener("visibilitychange",U,!0),addEventListener("prerenderingchange",U,!0)),{get firstHiddenTime(){return B}}),j=e=>{var t;(null==(t=R.document)?void 0:t.prerendering)?addEventListener("prerenderingchange",(()=>e()),!0):e()},F=[1800,3e3],Y=[.1,.25],G=(e,t={})=>{((e,t={})=>{j((()=>{const n=z(),r=q("FCP");let i;const o=D("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-N(),0),r.entries.push(e),i(!0)))}))}));o&&(i=P(e,r,F,t.reportAllChanges))}))})($((()=>{const n=q("CLS",0);let r,i=0,o=[];const s=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=o[0],n=o[o.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>n.value&&(n.value=i,n.entries=o,r())},a=D("layout-shift",s);a&&(r=P(e,n,Y,t.reportAllChanges),O((()=>{s(a.takeRecords()),r(!0)})),setTimeout(r,0))})))},X=[100,300];let W=0,J=1/0,K=0;const Q=e=>{e.forEach((e=>{e.interactionId&&(J=Math.min(J,e.interactionId),K=Math.max(K,e.interactionId),W=K?(K-J)/7+1:0)}))};let V;const Z=[],ee=new Map;const te=()=>(V?W:performance.interactionCount||0)-0,ne=[],re=e=>{var t;if(ne.forEach((t=>t(e))),!e.interactionId&&"first-input"!==e.entryType)return;const n=Z[Z.length-1],r=ee.get(e.interactionId);if(r||Z.length<10||n&&e.duration>n.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===(null==(t=r.entries[0])?void 0:t.startTime)&&r.entries.push(e);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};ee.set(t.id,t),Z.push(t)}Z.sort(((e,t)=>t.latency-e.latency)),Z.length>10&&Z.splice(10).forEach((e=>ee.delete(e.id)))}},ie=e=>{var t;const n=R.requestIdleCallback||R.setTimeout;let r=-1;return e=$(e),"hidden"===(null==(t=R.document)?void 0:t.visibilityState)?e():(r=n(e),O(e)),r},oe=[200,500],se=(e,t={})=>{"PerformanceEventTiming"in R&&"interactionId"in PerformanceEventTiming.prototype&&j((()=>{"interactionCount"in performance||V||(V=D("event",Q,{type:"event",buffered:!0,durationThreshold:0}));const n=q("INP");let r;const i=e=>{ie((()=>{e.forEach(re);const t=(()=>{const e=Math.min(Z.length-1,Math.floor(te()/50));return Z[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())}))},o=D("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=P(e,n,oe,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),O((()=>{i(o.takeRecords()),r(!0)})))}))},ae=[2500,4e3],ce={},ue=[800,1800],de=e=>{var t,n;(null==(t=R.document)?void 0:t.prerendering)?j((()=>de(e))):"complete"!==(null==(n=R.document)?void 0:n.readyState)?addEventListener("load",(()=>de(e)),!0):setTimeout(e,0)},le={},pe={};let fe,me,he,ve,ye;function ge(e,t=!1){return Ie("cls",e,we,fe,t)}function be(e,t=!1){return Ie("lcp",e,Ce,he,t)}function _e(e){return Ie("fid",e,Se,me)}function Te(e){return Ie("inp",e,Ae,ye)}function Ee(e,t){return xe(e,t),pe[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);D(e,(t=>{ke(e,{entries:t})}),t)}(e),pe[e]=!0),Pe(e,t)}function ke(e,r){const i=le[e];if(null==i?void 0:i.length)for(const o of i)try{o(r)}catch(_t){x&&t.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${n(o)}\nError:`,_t)}}function we(){return G((e=>{ke("cls",{metric:e}),fe=e}),{reportAllChanges:!0})}function Se(){return((e,t={})=>{j((()=>{const n=z(),r=q("FID");let i;const o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0))},s=e=>{e.forEach(o)},a=D("first-input",s);i=P(e,r,X,t.reportAllChanges),a&&O($((()=>{s(a.takeRecords()),a.disconnect()})))}))})((e=>{ke("fid",{metric:e}),me=e}))}function Ce(){return((e,t={})=>{j((()=>{const n=z(),r=q("LCP");let i;const o=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach((e=>{e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-N(),0),r.entries=[e],i())}))},s=D("largest-contentful-paint",o);if(s){i=P(e,r,ae,t.reportAllChanges);const n=$((()=>{ce[r.id]||(o(s.takeRecords()),s.disconnect(),ce[r.id]=!0,i(!0))}));["keydown","click"].forEach((e=>{R.document&&addEventListener(e,(()=>ie(n)),{once:!0,capture:!0})})),O(n)}}))})((e=>{ke("lcp",{metric:e}),he=e}),{reportAllChanges:!0})}function Le(){return((e,t={})=>{const n=q("TTFB"),r=P(e,n,ue,t.reportAllChanges);de((()=>{const e=M();e&&(n.value=Math.max(e.responseStart-N(),0),n.entries=[e],r(!0))}))})((e=>{ke("ttfb",{metric:e}),ve=e}))}function Ae(){return se((e=>{ke("inp",{metric:e}),ye=e}))}function Ie(e,t,n,r,i=!1){let o;return xe(e,t),pe[e]||(o=n(),pe[e]=!0),r&&t({metric:r}),Pe(e,t,i?o:void 0)}function xe(e,t){le[e]=le[e]||[],le[e].push(t)}function Pe(e,t,n){return()=>{n&&n();const r=le[e];if(!r)return;const i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function Re(e){return"number"==typeof e&&isFinite(e)}function Me(e,t,n,{...o}){const s=r(e).start_timestamp;return s&&s>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),i(e,(()=>{const e=a({startTime:t,...o});return e&&e.end(n),e}))}function Ne(e){var t;const n=o();if(!n)return;const{name:r,transaction:i,attributes:c,startTime:u}=e,{release:d,environment:l,sendDefaultPii:p}=n.getOptions(),f=n.getIntegrationByName("Replay"),m=null==f?void 0:f.getReplayId(),h=s(),v=h.getUser(),y=void 0!==v?v.email||v.id||v.ip_address:void 0;let g;try{g=h.getScopeData().contexts.profile.profile_id}catch{}const b={release:d,environment:l,user:y||void 0,profile_id:g||void 0,replay_id:m||void 0,transaction:i,"user_agent.original":null==(t=R.navigator)?void 0:t.userAgent,"client.address":p?"{{auto}}":void 0,...c};return a({name:r,attributes:b,startTime:u,experimental:{standalone:!0}})}function qe(){return R.addEventListener&&R.performance}function De(e){return e/1e3}function Oe(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function $e(){let e,n,i=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}())return;let a=!1;function y(){a||(a=!0,n&&function(e,n,r){var i;x&&t.log(`Sending CLS span (${e})`);const o=De((d()||0)+((null==n?void 0:n.startTime)||0)),a=s().getScopeData().transactionName,c=n?f(null==(i=n.sources[0])?void 0:i.node):"Layout shift",u={[v]:"auto.http.browser.cls",[h]:"ui.webvital.cls",[m]:(null==n?void 0:n.duration)||0,"sentry.pageload.span_id":r},y=Ne({name:c,transaction:a,attributes:u,startTime:o});y&&(y.addEvent("cls",{[p]:"",[l]:e}),y.end(o))}(i,e,n),g())}const g=ge((({metric:t})=>{const n=t.entries[t.entries.length-1];n&&(i=t.value,e=n)}),!0);O((()=>{y()})),setTimeout((()=>{const e=o();if(!e)return;const t=e.on("startNavigationSpan",(()=>{y(),null==t||t()})),i=c();if(i){const e=u(i);"pageload"===r(e).op&&(n=e.spanContext().spanId)}}),0)}let Be,Ue,He=0,ze={};function je({recordClsStandaloneSpans:e}){const t=qe();if(t&&d()){t.mark&&R.performance.mark("sentry-tracing-init");const n=_e((({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=De(d()),r=De(t.startTime);ze.fid={value:e.value,unit:"millisecond"},ze["mark.fid"]={value:n+r,unit:"second"}})),r=be((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ze.lcp={value:e.value,unit:"millisecond"},Be=t)}),!0),i=Ie("ttfb",(({metric:e})=>{e.entries[e.entries.length-1]&&(ze.ttfb={value:e.value,unit:"millisecond"})}),Le,ve),o=e?$e():ge((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ze.cls={value:e.value,unit:""},Ue=t)}),!0);return()=>{n(),r(),i(),null==o||o()}}return()=>{}}function Fe(){Ee("longtask",(({entries:e})=>{const t=c();if(!t)return;const{op:n,start_timestamp:i}=r(t);for(const r of e){const e=De(d()+r.startTime),o=De(r.duration);"navigation"===n&&i&&e<i||Me(t,e,e+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[v]:"auto.ui.browser.metrics"}})}}))}function Ye(){new PerformanceObserver((e=>{const t=c();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=De(d()+n.startTime),{start_timestamp:i,op:o}=r(t);if("navigation"===o&&i&&e<i)continue;const s=De(n.duration),a={[v]:"auto.ui.browser.metrics"},c=n.scripts[0],{invoker:u,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=c;a["browser.script.invoker"]=u,a["browser.script.invoker_type"]=l,p&&(a["code.filepath"]=p),f&&(a["code.function"]=f),-1!==m&&(a["browser.script.source_char_position"]=m),Me(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}})).observe({type:"long-animation-frame",buffered:!0})}function Ge(){Ee("event",(({entries:e})=>{const t=c();if(t)for(const n of e)if("click"===n.name){const e=De(d()+n.startTime),r=De(n.duration),i={name:f(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[v]:"auto.ui.browser.metrics"}},o=b(n.target);o&&(i.attributes["ui.component_name"]=o),Me(t,e,e+r,i)}}))}function Xe(e,t){const n=qe(),i=d();if(!(null==n?void 0:n.getEntries)||!i)return;const o=De(i),s=n.getEntries(),{op:a,start_timestamp:c}=r(e);if(s.slice(He).forEach((t=>{const n=De(t.startTime),r=De(Math.max(0,t.duration));if(!("navigation"===a&&c&&o+n<c))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{We(e,t,r,n)})),We(e,t,"secureConnection",n,"TLS/SSL"),We(e,t,"fetch",n,"cache"),We(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+De(t.requestStart),i=n+De(t.responseEnd),o=n+De(t.responseStart);t.responseEnd&&(Me(e,r,i,{op:"browser.request",name:t.name,attributes:{[v]:"auto.ui.browser.metrics"}}),Me(e,o,i,{op:"browser.response",name:t.name,attributes:{[v]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,t,o);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=M(!1),s=De(o?o.requestStart:0),a=i+Math.max(n,s),c=i+n,u=c+r,d={[v]:"auto.resource.browser.metrics"};a!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a);a<=u&&Me(e,a,u,{name:t.name,op:t.entryType,attributes:d})}(e,t,n,r,o);const i=z(),s=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&s&&(ze.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(ze.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const s=g(n),a={[v]:"auto.resource.browser.metrics"};Je(a,t,"transferSize","http.response_transfer_size"),Je(a,t,"encodedBodySize","http.response_content_length"),Je(a,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;null!=c&&(a["http.response_delivery_type"]=c);const u=t.renderBlockingStatus;u&&(a["resource.render_blocking_status"]=u);s.protocol&&(a["url.scheme"]=s.protocol.split(":").pop());s.host&&(a["server.address"]=s.host);a["url.same_origin"]=n.includes(R.location.origin);const{name:d,version:l}=Oe(t.nextHopProtocol);a["network.protocol.name"]=d,a["network.protocol.version"]=l;const p=o+r,f=p+i;Me(e,p,f,{name:n.replace(R.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}(e,t,t.name,n,r,o)}})),He=Math.max(s.length-1,0),function(e){const t=R.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Re(n.rtt)&&(ze["connection.rtt"]={value:n.rtt,unit:"millisecond"}));Re(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);Re(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===a){!function(e){const t=M(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(ze);const n=ze["mark.fid"];n&&ze.fid&&(Me(e,n.value,n.value+De(ze.fid.value),{name:"first input delay",op:"ui.action",attributes:{[v]:"auto.ui.browser.metrics"}}),delete ze["mark.fid"]),"fcp"in ze&&t.recordClsOnPageloadSpan||delete ze.cls,Object.entries(ze).forEach((([e,t])=>{y(e,t.value,t.unit)})),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",N()),function(e){Be&&(Be.element&&e.setAttribute("lcp.element",f(Be.element)),Be.id&&e.setAttribute("lcp.id",Be.id),Be.url&&e.setAttribute("lcp.url",Be.url.trim().slice(0,200)),null!=Be.loadTime&&e.setAttribute("lcp.loadTime",Be.loadTime),null!=Be.renderTime&&e.setAttribute("lcp.renderTime",Be.renderTime),e.setAttribute("lcp.size",Be.size));(null==Ue?void 0:Ue.sources)&&Ue.sources.forEach(((t,n)=>e.setAttribute(`cls.source.${n+1}`,f(t.node))))}(e)}Be=void 0,Ue=void 0,ze={}}function We(e,t,n,r,i=n){const o=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),s=t[o],a=t[`${n}Start`];a&&s&&Me(e,r+De(a),r+De(s),{op:`browser.${i}`,name:t.name,attributes:{[v]:"auto.ui.browser.metrics",..."redirect"===n&&null!=t.redirectCount?{"http.redirect_count":t.redirectCount}:{}}})}function Je(e,t,n,r){const i=t[n];null!=i&&i<2147483647&&(e[r]=i)}let Ke,Qe,Ve,Ze;function et(e){_("dom",e),T("dom",tt)}function tt(){if(!R.document)return;const e=E.bind(null,"dom"),t=nt(e,!0);R.document.addEventListener("click",t,!1),R.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var n,r;const i=null==(n=R[t])?void 0:n.prototype;(null==(r=null==i?void 0:i.hasOwnProperty)?void 0:r.call(i,"addEventListener"))&&(k(i,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=r[n]=r[n]||{refCount:0};if(!o.handler){const r=nt(e);o.handler=r,t.call(this,n,r,i)}o.refCount++}catch(_t){}return t.call(this,n,r,i)}})),k(i,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(_t){}return e.call(this,t,n,r)}})))}))}function nt(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(_t){return null}}(n);if(function(e,t){return"keypress"===e&&(!(null==t?void 0:t.tagName)||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;w(n,"_sentryCaptured",!0),r&&!r._sentryId&&w(r,"_sentryId",S());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Qe)return!1;try{if(!e.target||e.target._sentryId!==Ve)return!1}catch(_t){}return!0}(n)){e({event:n,name:i,global:t}),Qe=n.type,Ve=r?r._sentryId:void 0}clearTimeout(Ke),Ke=R.setTimeout((()=>{Ve=void 0,Qe=void 0}),1e3)}}function rt(e){const t="history";_(t,e),T(t,it)}function it(){function e(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const r=Ze,i=function(e){try{return new URL(e,R.location.origin).toString()}catch{return e}}(String(n));if(Ze=i,r===i)return e.apply(this,t);E("history",{from:r,to:i})}return e.apply(this,t)}}R.addEventListener("popstate",(()=>{const e=R.location.href,t=Ze;if(Ze=e,t===e)return;E("history",{from:t,to:e})})),C()&&(k(R.history,"pushState",e),k(R.history,"replaceState",e))}const ot={};function st(e){const n=ot[e];if(n)return n;let r=R[e];if(L(r))return ot[e]=r.bind(R);const i=R.document;if(i&&"function"==typeof i.createElement)try{const t=i.createElement("iframe");t.hidden=!0,i.head.appendChild(t);const n=t.contentWindow;(null==n?void 0:n[e])&&(r=n[e]),i.head.removeChild(t)}catch(_t){x&&t.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,_t)}return r?ot[e]=r.bind(R):r}function at(e){ot[e]=void 0}function ct(...e){return st("setTimeout")(...e)}const ut="__sentry_xhr_v3__";function dt(e){_("xhr",e),T("xhr",lt)}function lt(){if(!R.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,i=1e3*A(),o=I(n[0])?n[0].toUpperCase():void 0,s=function(e){if(I(e))return e;try{return e.toString()}catch{}return}(n[1]);if(!o||!s)return e.apply(t,n);t[ut]={method:o,url:s,request_headers:{}},"POST"===o&&s.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[ut];if(e&&4===t.readyState){try{e.status_code=t.status}catch(_t){}const n={endTimestamp:1e3*A(),startTimestamp:i,xhr:t,virtualError:r};E("xhr",n)}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,i]=n,o=t[ut];return o&&I(r)&&I(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[ut];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);const i={startTimestamp:1e3*A(),xhr:t};return E("xhr",i),e.apply(t,n)}})}function pt(e){return new URLSearchParams(e).toString()}function ft(e,n=t){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[pt(e)];if(!e)return[void 0]}catch(r){return x&&n.error(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return x&&n.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function mt(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}const ht=[],vt=new Map;function yt(){if(qe()&&d()){const e=Te((({metric:e})=>{if(null==e.value)return;const t=e.entries.find((t=>t.duration===e.value&&gt[t.name]));if(!t)return;const{interactionId:n}=t,i=gt[t.name],o=De(d()+t.startTime),a=De(e.value),y=c(),g=y?u(y):void 0,b=(null!=n?vt.get(n):void 0)||g,_=b?r(b).description:s().getScopeData().transactionName,T=Ne({name:f(t.target),transaction:_,attributes:{[v]:"auto.http.browser.inp",[h]:`ui.interaction.${i}`,[m]:t.duration},startTime:o});T&&(T.addEvent("inp",{[p]:"millisecond",[l]:e.value}),T.end(o+a))}));return()=>{e()}}return()=>{}}const gt={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function bt(){const e=({entries:e})=>{const t=c(),n=t&&u(t);e.forEach((e=>{if(!function(e){return"duration"in e}(e)||!n)return;const t=e.interactionId;if(null!=t&&!vt.has(t)){if(ht.length>10){const e=ht.shift();vt.delete(e)}ht.push(t),vt.set(t,n)}}))};Ee("event",e),Ee("first-input",e)}export{ut as S,et as a,rt as b,Ee as c,be as d,ge as e,_e as f,Te as g,mt as h,pt as i,ft as j,st as k,at as l,dt as m,Oe as n,je as o,yt as p,Ye as q,Fe as r,ct as s,Ge as t,bt as u,Xe as v};
//# sourceMappingURL=browser-utils-BUixo4nC.js.map
